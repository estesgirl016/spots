
  <% if current_user %>
    <% if current_user.id == @spot.user_id || current_user.admin? %>
    <%= link_to 'Edit-this-Post', edit_spot_path(@spot) %>
    <p>   </p>
    <%= link_to 'Delete-this-Post', spot_path(@spot), method: :delete %>
    <% end %>
  <% end %>
  <h1><%= @spot.name %></h1>
  <p><%= @spot.description %></p>
  <p>Posted By: <%= link_to @spot.user.username, profile_path(@spot.user) %></p>
  <h4>Address</h4>
  <p><%= @spot.address.street %></p>
  <p><%= @spot.address.city %></p>
  <p><%= @spot.address.state %></p>
  <p><%= @spot.address.zip %></p>
</div>

<div style='width: 800px;'>
  <div id="basic_map" style='width: 800px; height: 400px;'></div>
</div>

<div class='col-xs-offset-6'>
<%= @spot.likes.count %>
<%= link_to like_path(@spot) do %>
  <i class="fa fa-tree" aria-hidden="true"></i>
<% end %>

<br/>
  <h4>Comments</h4>
  <% if signed_in? %>
    <%= form_for [@spot, @comment] do |f| %>
      <%= f.text_area :body %>
      <br/>
      <br/>
      <%= f.submit %>
    <% end %>
  <% else %>
    <%= link_to 'Log In To Comment', new_user_session_path %>
  <% end %>
  <% @comments.each do |comment| %>
    <br/>
    <h4><%= link_to comment.user.username, profile_path(comment.user.id) %></h4>
    <p><%= comment.body %></p>
    <p><%= time_ago_in_words(comment.created_at) %> ago</p>
    <% if current_user %>
      <% if current_user.id == comment.user_id %>
        <%= link_to 'Delete', delete_comment_path(@spot, comment), method: :delete %>
      <% end %>
    <% end %>
  <% end %>
</div>

<script>
  handler = Gmaps.build('Google');
  handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
  markers = handler.addMarkers([
    {
      "lat": 0,
      "lng": 0,
      "picture": {
        "url": "http://people.mozilla.com/~faaborg/files/shiretoko/firefoxIcon/firefox-32.png",
        "width":  32,
        "height": 32
      },
      "infowindow": "hello!"
    }
  ]);
  handler.bounds.extendWith(markers);
  handler.fitMapToBounds();
});
</script>
